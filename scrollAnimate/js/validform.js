var ValidForm=function(i){this.form=null,this.eles=[],this.config={tipClass:".vf-tip",blurCheck:!1,ruleList:{"*":/[\w\W]+/,name:/^[a-zA-Z\u4e00-\u9fa5]{1,10}$/,tel:/^13[0-9]{9}$|14[0-9]{9}|15[0-9]{9}$|17[0-9]{9}|18[0-9]{9}$/,code:/^[\w\W]{4}$/,msgcode:/^[\w\W]{6}$/,password:/(?=.{6,16})(?=.*\d)(?=.*[a-z])[\x20-\x7f]*/i,email:/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,url:/^(\w+:\/\/)?\w+(\.\w+)+.*$/}},this.init(i)};ValidForm.prototype={constructor:ValidForm,init:function(i){var t=this,e=this.config;for(var r in i)if("ruleList"==r)for(var s in i[r])e[r][s]=i[r][s];else e[r]=i[r];this.form=i.form,this.form.find(".vf-valid").each(function(i){var r=$(this).attr("data-nullmsg"),s=$(this).attr("data-errormsg");t.eles.push({obj:$(this),objId:$(this).attr("id"),objTip:$(this).siblings(e.tipClass),objIndex:i,name:$(this).attr("name"),rule:t._getRule($(this).attr("data-type")),tipNull:r||"不能为空",tipError:s||"格式错误"})}),$.each(this.eles,function(i,e){e.obj.on("blur",function(){t._valid(e.objIndex,!0,!1)})})},_getRule:function(i){return i&&this.config.ruleList.hasOwnProperty(i)?new RegExp(this.config.ruleList[i]):""},_valid:function(i,t,e){var r=this.eles[i],s=r.obj.val(),n=!0;return r.rule&&(s||e)&&(n=r.rule.test(s),r.objTip.html(s?n?"":r.tipError:r.tipNull)),t&&!n?r.objTip.fadeIn(100):r.objTip.fadeOut(100),n},_getEleIndex:function(i){var t=null;for(var e in this.eles)if(this.eles[e].objId==i){t=e;break}return t},showTip:function(i,t){var e=this._getEleIndex(i);e&&this.eles[e].objTip.html(t).fadeIn(100)},hideTip:function(i){var t=this._getEleIndex(i);t&&this.eles[t].objTip.html(text).fadeOut(100)},check:function(i,t){var t=void 0==t||t,e=this._getEleIndex(i);if(e)return this._valid(e,t,!0)},formCheck:function(i,t){var i=void 0==i||i,t=void 0!=t&&t,e={},r=!0;for(var s in this.eles)if(this._valid(s,i,!0))e[this.eles[s].name]=this.eles[s].obj.val();else if(r=!1,!t)return!1;return!!r&&e}};